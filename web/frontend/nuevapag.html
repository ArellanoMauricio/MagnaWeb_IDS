<!DOCTYPE html>
<html>
  <head>
    <title>𝗠𝗔𝗚𝗡𝗔𝗢𝗡𝗜𝗥𝗜𝗖𝗔​</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Dives+Akuru&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Averia+Serif+Libre:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="res/favicon.png">
  </head>
  <body>
    <div id="intro">
        <img src="res/title.png" alt="Título" class="fade-in">
        <svg id="more-arrows" onclick="toggleArrows()">
          <polygon class="arrow-top" points="37.6,27.9 1.8,1.3 3.3,0 37.6,25.3 71.9,0 73.7,1.3 "/>
          <polygon class="arrow-middle" points="37.6,45.8 0.8,18.7 4.4,16.4 37.6,41.2 71.2,16.4 74.5,18.7 "/>
          <polygon class="arrow-bottom" points="37.6,64 0,36.1 5.1,32.8 37.6,56.8 70.4,32.8 75.5,36.1 "/>
        </svg>
    </div>
    <script>
        function typeWriter(txt, i, speed, id) {
          if (i < txt.length) {
            document.getElementById(id).innerHTML += txt.charAt(i);
            i++;
            setTimeout(() => typeWriter(txt, i, speed, id), speed);
          }
        }
        async function toggleArrows() {
            /* Subimos y desvanecemos el título. */
            const intro = document.getElementById("intro");
            intro.classList.toggle("clicked");
            /* Hacemos aparecer la tablita del índice. */
            const indice = document.getElementById("indice");
            indice.classList.toggle("clicked");
            /* Esperamos 3500ms y hacemos aparecer el título del índice. */
            await new Promise(res => setTimeout(res, 3500));
            const indicetex = document.getElementById("indicetex");
            indicetex.classList.toggle("iniciado");
            /* Ejecutamos la animación de tipeo de cada elemento del índice. */
            await new Promise(res => setTimeout(res, 2500));
            typeWriter("PERSONAJES", 0, 500, "indicetexdos")
            await new Promise(res => setTimeout(res, 500));
            typeWriter("HISTORIA", 0, 500, "indicetextres")
            await new Promise(res => setTimeout(res, 500));
            typeWriter("LUGARES", 0, 500, "indicetexcuatro")
        }
    </script>
    <div id="indice">
      <p id="indicetex">INDICE</p>
      <p id="indicetexdos"></p>
      <p id="indicetextres"></p>
      <p id="indicetexcuatro"></p>
    </div>
  </body>
</html>